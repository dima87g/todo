{"version":3,"sources":["../todo_functions.js"],"names":[],"mappings":"AAAA;;AAEA,SAAS,MAAT,GAAkB;AAEd,WAAS,uBAAT,CAAiC,KAAjC,EAAwC;AACpC,QAAI,KAAK,CAAC,OAAN,KAAkB,EAAtB,EAA0B;AACtB,MAAA,KAAK,CAAC,cAAN;AACA,MAAA,QAAQ,CAAC,cAAT,CAAwB,mBAAxB,EAA6C,KAA7C;AACH;AACJ;;AAED,WAAS,mBAAT,CAA6B,KAA7B,EAAoC;AAChC,QAAI,KAAK,CAAC,OAAN,KAAkB,EAAtB,EAA0B;AACtB,MAAA,KAAK,CAAC,cAAN;AACA,MAAA,QAAQ,CAAC,cAAT,CAAwB,mBAAxB,EAA6C,KAA7C;AACH;AACJ;;AAED,WAAS,sBAAT,CAAgC,KAAhC,EAAuC;AACnC,QAAI,KAAK,CAAC,OAAN,KAAkB,EAAtB,EAA0B;AACtB,MAAA,KAAK,CAAC,cAAN;AACA,MAAA,QAAQ,CAAC,cAAT,CAAwB,sBAAxB,EAAgD,KAAhD;AACH;AACJ;;AAED,MAAI,SAAS,GAAG,QAAQ,CAAC,KAAT,CAAe,YAAf,CAAhB;AACA,EAAA,SAAS,CAAC,gBAAV,CAA2B,SAA3B,EAAsC,mBAAtC,EAA2D,KAA3D;AAEA,MAAI,YAAY,GAAG,QAAQ,CAAC,KAAT,CAAe,eAAf,CAAnB;AACA,EAAA,YAAY,CAAC,gBAAb,CAA8B,SAA9B,EAAyC,sBAAzC,EAAiE,KAAjE;AAEA,MAAI,cAAc,GAAG,QAAQ,CAAC,cAAT,CAAwB,kBAAxB,CAArB;AACA,EAAA,cAAc,CAAC,gBAAf,CAAgC,SAAhC,EAA2C,uBAA3C,EAAoE,KAApE;AACH;;AAED,SAAS,WAAT,CAAqB,IAArB,EAA2B,IAA3B,EAAuD;AAAA,MAAtB,QAAsB,uEAAX,SAAW;AACnD,MAAI,aAAa,GAAG,QAAQ,CAAC,cAAT,CAAwB,gBAAxB,CAApB;AACA,EAAA,WAAW,CAAC,UAAZ,CAAuB,aAAvB;;AACA,MAAI,MAAM,CAAC,KAAX,EAAkB;AACd,QAAI,IAAI,GAAG;AAAC,MAAA,MAAM,EAAE,MAAT;AACC,MAAA,OAAO,EAAE;AAAC,wBAAgB;AAAjB,OADV;AAEC,MAAA,IAAI,EAAE,IAAI,CAAC,SAAL,CAAe,QAAf;AAFP,KAAX;AAIA,IAAA,KAAK,CAAC,IAAD,EAAO,IAAP,CAAL,CACK,IADL,CACU,UAAC,MAAD,EAAY;AACd,UAAI,MAAM,CAAC,EAAP,IAAa,MAAM,CAAC,OAAP,CAAe,GAAf,CAAmB,cAAnB,MAAuC,kBAAxD,EAA4E;AACxE,eAAO,MAAM,CAAC,IAAP,EAAP;AACH,OAFD,MAEO;AACH,eAAO,OAAO,CAAC,MAAR,CAAe;AAAC,gBAAM;AAAP,SAAf,CAAP;AACH;AACJ,KAPL,EAQK,IARL,CAQU,UAAC,MAAD,EAAY;AACd,MAAA,WAAW,CAAC,UAAZ,CAAuB,aAAvB;AACA,MAAA,IAAI,CAAC,MAAD,CAAJ;AACH,KAXL,EAWO,UAAC,KAAD,EAAW;AACV,MAAA,WAAW,CAAC,UAAZ,CAAuB,aAAvB;AACA,MAAA,IAAI,CAAC,KAAD,CAAJ;AACH,KAdL;AAeH,GApBD,MAoBO;AACH,QAAI,GAAG,GAAG,IAAI,cAAJ,EAAV;AACA,IAAA,GAAG,CAAC,IAAJ,CAAS,MAAT,EAAiB,IAAjB;AACA,IAAA,GAAG,CAAC,gBAAJ,CAAqB,cAArB,EAAqC,iCAArC;AACA,IAAA,GAAG,CAAC,IAAJ,CAAS,IAAI,CAAC,SAAL,CAAe,QAAf,CAAT;;AAEA,IAAA,GAAG,CAAC,kBAAJ,GAAyB,YAAY;AACjC,UAAI,GAAG,CAAC,UAAJ,KAAmB,CAAvB,EAA0B;AACtB,YAAI,GAAG,CAAC,MAAJ,KAAe,GAAf,IAAsB,GAAG,CAAC,iBAAJ,CAAsB,cAAtB,MAA0C,kBAApE,EAAwF;AACpF,UAAA,WAAW,CAAC,UAAZ,CAAuB,aAAvB;AACA,UAAA,IAAI,CAAC,IAAI,CAAC,KAAL,CAAW,GAAG,CAAC,YAAf,CAAD,CAAJ;AACH;AACJ;AACJ,KAPD;AAQH;AACJ;;AAED,SAAS,iBAAT,CAA2B,IAA3B,EAAiC,OAAjC,EAA0C;AACtC,MAAI,aAAa,GAAG,QAAQ,CAAC,cAAT,CAAwB,gBAAxB,CAApB;AACA,MAAI,oBAAoB,GAAG,QAAQ,CAAC,cAAT,CAAwB,wBAAxB,CAA3B;AACA,MAAI,QAAQ,GAAG,QAAQ,CAAC,cAAT,CAAwB,0BAAxB,CAAf;AACA,MAAI,YAAY,GAAG,QAAQ,CAAC,cAAT,CAAwB,8BAAxB,CAAnB;AAEA,EAAA,UAAU;AACV,EAAA,oBAAoB,CAAC,WAArB,CAAiC,QAAQ,CAAC,cAAT,CAAwB,OAAxB,CAAjC;AACA,EAAA,aAAa,CAAC,KAAd,CAAoB,UAApB,GAAiC,SAAjC;AACA,EAAA,aAAa,CAAC,KAAd,CAAoB,OAApB,GAA8B,GAA9B;AAEA,EAAA,QAAQ,CAAC,OAAT,GAAmB,KAAnB;AACA,EAAA,YAAY,CAAC,OAAb,GAAuB,KAAvB;;AAEA,WAAS,KAAT,GAAiB;AACb,QAAI,KAAK,KAAL,KAAe,IAAnB,EAAyB;AACrB,MAAA,IAAI;AACP;;AACD,IAAA,UAAU;AACV,IAAA,aAAa,CAAC,KAAd,CAAoB,OAApB,GAA8B,GAA9B;AACA,IAAA,UAAU,CAAC,YAAY;AACnB,MAAA,aAAa,CAAC,KAAd,CAAoB,UAApB,GAAiC,QAAjC;AACA,MAAA,oBAAoB,CAAC,WAArB,CAAiC,oBAAoB,CAAC,UAAtD;AACH,KAHS,EAGP,GAHO,CAAV;AAIH;AACJ;;AAED,SAAS,cAAT,CAAwB,OAAxB,EAAiC;AAE7B,MAAI,UAAU,GAAG,QAAQ,CAAC,cAAT,CAAwB,aAAxB,CAAjB;AACA,MAAI,iBAAiB,GAAG,QAAQ,CAAC,cAAT,CAAwB,qBAAxB,CAAxB;AAEA,EAAA,cAAc,CAAC,iBAAD,CAAd;AAEA,EAAA,iBAAiB,CAAC,WAAlB,CAA8B,QAAQ,CAAC,cAAT,CAAwB,OAAxB,CAA9B;AACA,EAAA,UAAU,CAAC,KAAX,CAAiB,UAAjB,GAA8B,SAA9B;AAEA,EAAA,UAAU,CAAC,YAAW;AAClB,IAAA,UAAU,CAAC,KAAX,CAAiB,UAAjB,GAA8B,QAA9B;AACH,GAFS,EAEP,IAFO,CAAV;AAGH;;AAED,SAAS,cAAT,CAAwB,KAAxB,EAA+B;AAC3B,SAAO,KAAK,CAAC,UAAb,EAAyB;AACrB,IAAA,KAAK,CAAC,WAAN,CAAkB,KAAK,CAAC,UAAxB;AACH;AACJ;;AAED,SAAS,sBAAT,GAAkC;AAC9B,MAAI,YAAY,GAAG,MAAM,CAAC,SAAP,CAAiB,QAApC;AACA,MAAI,kBAAkB,GAAG,QAAQ,CAAC,cAAT,CAAwB,sBAAxB,CAAzB;AACA,MAAI,sBAAsB,GAAG,QAAQ,CAAC,cAAT,CAAwB,2BAAxB,CAA7B;AACA,MAAI,+BAA+B,GAAG,QAAQ,CAAC,cAAT,CAAwB,8BAAxB,CAAtC;;AAEA,MAAI,YAAY,KAAK,OAAjB,IAA4B,YAAY,KAAK,IAAjD,EAAuD;AACnD,IAAA,sBAAsB,CAAC,WAAvB,CAAmC,QAAQ,CAAC,cAAT,CAC/B,oEACA,2DAF+B,CAAnC;AAGH,GAJD,MAIO,IAAI,YAAY,KAAK,OAAjB,IAA4B,YAAY,KAAK,IAAjD,EAAuD;AAC1D,IAAA,sBAAsB,CAAC,WAAvB,CAAmC,QAAQ,CAAC,cAAT,CAC/B,oEACA,gEAF+B,CAAnC;AAGH;;AAED,EAAA,+BAA+B,CAAC,OAAhC,GAA0C,YAAW;AACjD,IAAA,kBAAkB,CAAC,KAAnB,CAAyB,OAAzB,GAAmC,GAAnC;AAEA,IAAA,UAAU,CAAC,YAAW;AAClB,MAAA,kBAAkB,CAAC,KAAnB,CAAyB,OAAzB,GAAmC,MAAnC;AACH,KAFS,EAEP,GAFO,CAAV;AAGH,GAND;;AAOA,EAAA,kBAAkB,CAAC,KAAnB,CAAyB,OAAzB,GAAmC,OAAnC;AACH;;AAED,SAAS,UAAT,GAAsB;AAClB,MAAI,MAAM,GAAG,QAAQ,CAAC,cAAT,CAAwB,QAAxB,CAAb;AAEA,EAAA,MAAM,CAAC,KAAP,CAAa,UAAb,GAA0B,SAA1B;AACA,EAAA,MAAM,CAAC,KAAP,CAAa,OAAb,GAAuB,KAAvB;AACH;;AAED,SAAS,UAAT,GAAsB;AAClB,MAAI,MAAM,GAAG,QAAQ,CAAC,cAAT,CAAwB,QAAxB,CAAb;AAEA,EAAA,MAAM,CAAC,KAAP,CAAa,OAAb,GAAuB,GAAvB;AAEA,EAAA,UAAU,CAAC,YAAW;AAClB,IAAA,MAAM,CAAC,KAAP,CAAa,UAAb,GAA0B,QAA1B;AACH,GAFS,EAEP,GAFO,CAAV;AAGH;;AAED,SAAS,MAAT,GAAkB;AACd,MAAI,MAAM,GAAG,KAAb;AACA,MAAI,SAAS,GAAG,IAAhB;AACA,MAAI,MAAM,GAAG,QAAQ,CAAC,cAAT,CAAwB,QAAxB,CAAb;AACA,SAAO,YAAW;AACd,QAAI,MAAM,KAAK,KAAf,EAAsB;AAClB,MAAA,MAAM,GAAG,IAAT;AACA,MAAA,SAAS,GAAG,YAAY,CAAC,SAAD,CAAxB;AACA,MAAA,MAAM,CAAC,KAAP,CAAa,UAAb,GAA0B,SAA1B;AACA,MAAA,MAAM,CAAC,KAAP,CAAa,OAAb,GAAuB,KAAvB;AACH,KALD,MAKO;AACH,MAAA,MAAM,GAAG,KAAT;AACA,MAAA,MAAM,CAAC,KAAP,CAAa,OAAb,GAAuB,GAAvB;AAEA,MAAA,SAAS,GAAG,UAAU,CAAC,YAAM;AACzB,QAAA,MAAM,CAAC,KAAP,CAAa,UAAb,GAA0B,QAA1B;AACH,OAFqB,EAEnB,GAFmB,CAAtB;AAGH;AACJ,GAdD;AAeH;;AAED,SAAS,SAAT,CAAmB,IAAnB,EAAyB;AACrB,MAAI,OAAO,GAAG,QAAQ,CAAC,MAAT,CAAgB,KAAhB,CAAsB,IAAI,MAAJ,CACpC,aAAa,IAAI,CAAC,OAAL,CAAa,8BAAb,EAA6C,MAA7C,CAAb,GAAoE,UADhC,CAAtB,CAAd;AAGA,SAAO,OAAO,GAAG,kBAAkB,CAAC,OAAO,CAAC,CAAD,CAAR,CAArB,GAAoC,SAAlD;AACH;;AAED,SAAS,SAAT,CAAmB,SAAnB,EAA8B;AAC1B,MAAM,KAAK,GAAG,SAAR,KAAQ,CAAC,MAAD,EAAY;AACtB,QAAI,MAAM,CAAC,IAAD,CAAN,KAAiB,IAArB,EAA2B;AACvB,MAAA,SAAS,CAAC,eAAV;AACA,MAAA,SAAS,CAAC,MAAV;AACH,KAHD,MAGO;AACH,MAAA,sBAAsB;AACzB;AACJ,GAPD;;AAQA,EAAA,WAAW,CAAC,aAAD,EAAgB,KAAhB,CAAX;AACH","file":"todo_functions_compiled.js","sourcesContent":["'use strict';\n\nfunction events() {\n\n    function noEnterRefreshTaskInput(event) {\n        if (event.keyCode === 13) {\n            event.preventDefault();\n            document.getElementById(\"task_input_button\").click();\n        }\n    }\n\n    function noEnterRefreshLogin(event) {\n        if (event.keyCode === 13) {\n            event.preventDefault();\n            document.getElementById(\"login_form_button\").click();\n        }\n    }\n\n    function noEnterRefreshRegister(event) {\n        if (event.keyCode === 13) {\n            event.preventDefault();\n            document.getElementById(\"register_form_button\").click();\n        }\n    }\n\n    let loginForm = document.forms['login_form'];\n    loginForm.addEventListener(\"keydown\", noEnterRefreshLogin, false);\n\n    let registerForm = document.forms['register_form'];\n    registerForm.addEventListener(\"keydown\", noEnterRefreshRegister, false);\n\n    let taskInputField = document.getElementById(\"task_input_field\");\n    taskInputField.addEventListener(\"keydown\", noEnterRefreshTaskInput, false);\n}\n\nfunction knock_knock(path, func, sendData = undefined) {\n    let loadingWindow = document.getElementById(\"loading_window\");\n    showLoading.showWindow(loadingWindow);\n    if (window.fetch) {\n        let init = {method: 'POST',\n                    headers: {'Content-Type': 'application/json; charset=utf-8'},\n                    body: JSON.stringify(sendData)}\n\n        fetch(path, init)\n            .then((answer) => {\n                if (answer.ok && answer.headers.get('Content-Type') === 'application/json') {\n                    return answer.json();\n                } else {\n                    return Promise.reject({\"ok\": false});\n                }\n            })\n            .then((answer) => {\n                showLoading.hideWindow(loadingWindow);\n                func(answer);\n            }, (error) => {\n                showLoading.hideWindow(loadingWindow);\n                func(error);\n            });\n    } else {\n        let req = new XMLHttpRequest();\n        req.open('POST', path);\n        req.setRequestHeader('Content-type', 'application/json; charset=utf-8');\n        req.send(JSON.stringify(sendData));\n\n        req.onreadystatechange = function () {\n            if (req.readyState === 4) {\n                if (req.status === 200 && req.getResponseHeader('Content-type') === 'application/json') {\n                    showLoading.hideWindow(loadingWindow);\n                    func(JSON.parse(req.responseText));\n                }\n            }\n        }\n    }\n}\n\nfunction showConfirmWindow(func, message) {\n    let confirmWindow = document.getElementById(\"confirm_window\");\n    let confirmWindowMessage = document.getElementById(\"confirm_window_message\");\n    let okButton = document.getElementById(\"confirm_window_ok_button\");\n    let cancelButton = document.getElementById(\"confirm_window_cancel_button\");\n\n    showShadow();\n    confirmWindowMessage.appendChild(document.createTextNode(message));\n    confirmWindow.style.visibility = 'visible';\n    confirmWindow.style.opacity = '1';\n\n    okButton.onclick = click;\n    cancelButton.onclick = click;\n\n    function click() {\n        if (this.value === \"OK\") {\n            func();\n        }\n        hideShadow();\n        confirmWindow.style.opacity = '0';\n        setTimeout(function () {\n            confirmWindow.style.visibility = 'hidden';\n            confirmWindowMessage.removeChild(confirmWindowMessage.firstChild);\n        }, 500);\n    }\n}\n\nfunction showInfoWindow(message) {\n\n    let infoWindow = document.getElementById(\"info_window\");\n    let infoWindowMessage = document.getElementById(\"info_window_message\");\n\n    removeChildren(infoWindowMessage);\n\n    infoWindowMessage.appendChild(document.createTextNode(message));\n    infoWindow.style.visibility = 'visible';\n\n    setTimeout(function() {\n        infoWindow.style.visibility = 'hidden';\n    }, 3000)\n}\n\nfunction removeChildren(field) {\n    while (field.firstChild) {\n        field.removeChild(field.firstChild);\n    }\n}\n\nfunction showCookiesAlertWindow() {\n    let userLanguage = window.navigator.language;\n    let cookiesAlertWindow = document.getElementById('cookies_alert_window');\n    let cookiesAlertWindowText = document.getElementById('cookies_alert_window_text');\n    let cookiesAlertWindowConfirmButton = document.getElementById('cookies_alert_confirm_button');\n\n    if (userLanguage === 'en-US' || userLanguage === 'en') {\n        cookiesAlertWindowText.appendChild(document.createTextNode(\n            'By continuing to use our site, you consent to the processing of' +\n            ' cookies, which ensure the correct operation of the site.'));\n    } else if (userLanguage === 'ru-RU' || userLanguage === 'ru') {\n        cookiesAlertWindowText.appendChild(document.createTextNode(\n            'Продолжая использовать наш сайт, вы даете согласие на обработку' +\n            '  файлов cookie, которые обеспечивают правильную работу сайта.'));\n    }\n\n    cookiesAlertWindowConfirmButton.onclick = function() {\n        cookiesAlertWindow.style.opacity = '0';\n\n        setTimeout(function() {\n            cookiesAlertWindow.style.display = 'none';\n        }, 500);\n    }\n    cookiesAlertWindow.style.display = 'block';\n}\n\nfunction showShadow() {\n    let shadow = document.getElementById('shadow');\n\n    shadow.style.visibility = 'visible';\n    shadow.style.opacity = '0.5';\n}\n\nfunction hideShadow() {\n    let shadow = document.getElementById('shadow');\n\n    shadow.style.opacity = '0';\n\n    setTimeout(function() {\n        shadow.style.visibility = 'hidden';\n    }, 500);\n}\n\nfunction shadow() {\n    let showed = false;\n    let hideTimer = null;\n    let shadow = document.getElementById('shadow');\n    return function() {\n        if (showed === false) {\n            showed = true;\n            hideTimer = clearTimeout(hideTimer);\n            shadow.style.visibility = 'visible';\n            shadow.style.opacity = '0.5';\n        } else {\n            showed = false;\n            shadow.style.opacity = '0';\n\n            hideTimer = setTimeout(() => {\n                shadow.style.visibility = 'hidden';\n            }, 500);\n        }\n    }\n}\n\nfunction getCookie(name) {\n    let matches = document.cookie.match(new RegExp(\n    \"(?:^|; )\" + name.replace(/([\\.$?*|{}\\(\\)\\[\\]\\\\\\/\\+^])/g, '\\\\$1') + \"=([^;]*)\"\n    ));\n    return matches ? decodeURIComponent(matches[1]) : undefined;\n}\n\nfunction authCheck(mainLogin) {\n    const check = (answer) => {\n        if (answer[\"ok\"] === true) {\n            mainLogin.hideLoginWindow();\n            mainLogin.onLoad();\n        } else {\n            showCookiesAlertWindow();\n        }\n    }\n    knock_knock(\"/auth_check\", check);\n}\n\n"]}