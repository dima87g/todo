{"version":3,"sources":["script.js"],"names":[],"mappings":"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","file":"script-compiled.js","sourcesContent":["\"use strict\";\n\nclass TaskList {\n    constructor() {\n        this.tasks = [];\n        this.tasksTree = new Map();\n        this.loginClass = null;\n    }\n\n    addTask() {\n        /**\n         * POST: json = {'taskText': 'string', 'parentId' = 'number'}\n         * GET:\n         * if OK = true: json = {'ok': 'boolean', 'task_id': 'number'}\n         * if OK = false: json = {'ok': 'boolean', 'error_code': 'number' or null,\n         * 'error_message': 'string' or null}\n         */\n        if (document.getElementById(\"task_input_field\").value) {\n            let taskText = document.getElementById(\"task_input_field\").value;\n            document.getElementById(\"task_input_field\").value = \"\";\n            let sendData = {\"taskText\": taskText, \"parentId\": null};\n\n            const add = (answer) => {\n                if (answer['ok'] === true) {\n                    let taskId = answer['task_id'];\n                    let newTask = new Task(this, taskId, taskText);\n\n                    this.tasksTree.set(newTask.id, newTask);\n                    this.tasks.push(newTask);\n\n                    this.updateDom();\n                }\n                if (answer[\"error_code\"] === 401) {\n                    this.loginClass.logOut();\n                    showInfoWindow(\"Authorisation problem!\");\n                }\n            }\n            knock_knock('save_task', add, sendData);\n        }\n    }\n\n    addSubtask(taskObject, DOMElement) {\n        /**\n         * POST: json = {'taskText': 'string', 'parentId': 'number'}\n         * GET:\n         * if OK = true: json = {'ok': 'boolean', 'task_id': 'number'}\n         * if OK = false: json = {'ok': 'boolean', 'error_code': 'number' or null,\n         * 'error_message': 'string' or null}\n         */\n        let subtaskDiv = DOMElement.parentNode;\n        let taskDiv = subtaskDiv.parentNode;\n        if (subtaskDiv.getElementsByClassName('subtask_text_field')[0].value) {\n            let taskText = subtaskDiv.getElementsByClassName('subtask_text_field')[0].value;\n            subtaskDiv.getElementsByClassName('subtask_text_field')[0].value = '';\n            taskDiv.getElementsByClassName('show_subtask_input_button')[0].click();\n            let parentId = taskObject.id;\n            let sendData = {'taskText': taskText, 'parentId': parentId}\n            const add = (answer) => {\n                if (answer['ok'] === true) {\n                    let taskId = answer['task_id'];\n                    let newTask = new Task(this, taskId, taskText, parentId);\n\n                    this.tasksTree.set(taskId, newTask);\n                    taskObject.subtasks.push(newTask);\n\n                    this.updateDom();\n                } else if (answer['error_code'] === 401) {\n                    this.loginClass.logOut();\n                    showInfoWindow(\"Authorisation problem!\");\n                }\n            }\n            knock_knock('save_task', add, sendData);\n        }\n    }\n\n    finishTask(node) {\n        /**\n         * POST: json = {'task_id': 'number', 'status': 'boolean'}\n         * GET:\n         * if OK = true: json = {'ok': true}\n         * if OK = false: json = {'ok': 'boolean', 'error_code': 'number' or null,\n         * 'error_message': 'string' or null}\n         */\n        let taskStatus = node.status === false;\n        let sendData = {\"taskId\": node.id, \"status\": taskStatus};\n\n        const finish = (answer) => {\n            if (answer['ok'] === true) {\n                node.status = taskStatus;\n\n                this.updateDom();\n            }\n            if (answer[\"error_code\"] === 401) {\n                this.loginClass.logOut();\n                showInfoWindow(\"Authorisation problem!\");\n            }\n        }\n        knock_knock('finish_task', finish, sendData);\n    }\n\n    removeTask(node) {\n        /**\n         * @param {object} - Task instance object\n         * POST: {taskId: 'number'}\n         * GET:\n         * if OK = true: json = {'ok': true}\n         * if OK = false: json = {'ok': 'boolean', 'error_code': 'number' or null,\n         * 'error_message': 'string' or null}\n         */\n        let sendData = {'taskId': node.id}\n        const remove = (answer) => {\n            if (answer['ok'] === true) {\n                if (this.tasksTree.has(node.parentId)) {\n                    let parentList = this.tasksTree.get(node.parentId).subtasks;\n                    parentList.splice(parentList.indexOf(node), 1);\n                } else {\n                    this.tasks.splice(this.tasks.indexOf(node), 1);\n                }\n                this.tasksTree.delete(node.id);\n                this.updateDom();\n            } else if (answer[\"error_code\"] === 401) {\n                this.loginClass.logOut();\n                showInfoWindow(\"Authorisation problem!\");\n            }\n        }\n        knock_knock('delete_task', remove, sendData);\n    }\n    updateDom() {\n        let tasksParent = document.getElementById(\"main_tasks\");\n        let existTasks = document.getElementsByClassName(\"task\");\n        let linearTasksList = [];\n\n        function linearTaskListFiller(tasks) {\n            for (let task of tasks) {\n                linearTasksList.push(task);\n                if (task.subtasks.length > 0) {\n                    linearTaskListFiller(task.subtasks);\n                }\n            }\n        }\n\n        linearTaskListFiller(this.tasks);\n\n        let i = 0;\n\n        for (i; i < linearTasksList.length; i++) {\n            if (existTasks[i]) {\n                linearTasksList[i].replaceTaskNode(existTasks[i]);\n            } else {\n                tasksParent.appendChild(linearTasksList[i].createTaskNode());\n            }\n        }\n        while (existTasks[i]) {\n            tasksParent.removeChild(tasksParent.lastChild);\n        }\n    }\n}\n\n\nclass Task {\n    constructor(taskList, id, text, parentId = null, status = false) {\n        this.taskList = taskList;\n        this.id = id;\n        this.text = text;\n        this.parentId = parentId;\n        this.status = status;\n        this.subtasks = [];\n    }\n\n    showSubtaskInput() {\n        let showed = false;\n        let timerShow = null;\n        let timerHide = null;\n        return function() {\n            let taskText = this.parentNode.getElementsByClassName('task_text')[0];\n            let removeButton = this.parentNode.getElementsByClassName('task_remove_button')[0];\n            let subtaskDiv = this.parentNode.getElementsByClassName('subtask_div')[0];\n            let subtaskTextField = this.parentNode.getElementsByClassName('subtask_text_field')[0];\n            let addSubtaskButton = this.parentNode.getElementsByClassName('add_subtask_button')[0];\n            let addSubtaskButtonIcon = addSubtaskButton.firstChild;\n            if (showed === false) {\n                showed = true;\n                removeButton.disabled = true;\n                addSubtaskButton.disabled = false;\n                timerHide = clearTimeout(timerHide);\n                // removeButton.style.transitionDelay = '0.5s';\n                removeButton.style.opacity = '0';\n                removeButton.style.transform = 'scale(0)'\n                // taskText.style.transitionDelay = '0s';\n                taskText.style.opacity = '0';\n                subtaskDiv.style.display = 'flex';\n                subtaskTextField.style.display = 'inline-block';\n                addSubtaskButton.style.display = 'inline-block';\n                addSubtaskButtonIcon.style.display = 'inline-block';\n\n                timerShow = setTimeout(function() {\n                    subtaskTextField.style.opacity = '1';\n                    subtaskTextField.style.width = '65%';\n                    // addSubtaskButton.style.transitionDelay = '0.5s';\n                    addSubtaskButton.style.opacity = '1';\n                    addSubtaskButton.style.transform = 'scale(1)';\n                }, );\n            } else {\n                showed = false;\n                removeButton.disabled = false;\n                addSubtaskButton.disabled = true;\n                timerShow = clearTimeout(timerShow);\n                // removeButton.style.transitionDelay = '0s';\n                removeButton.style.opacity = '1';\n                removeButton.style.transform = 'scale(1)';\n                // taskText.style.transitionDelay = '0.5s';\n                taskText.style.opacity = '1';\n                subtaskTextField.value = '';\n                subtaskTextField.style.opacity = '0';\n                subtaskTextField.style.width = '0';\n                // addSubtaskButton.style.transitionDelay = '0s';\n                addSubtaskButton.style.opacity = '0';\n                addSubtaskButton.style.transform = 'scale(0)';\n\n                timerHide = setTimeout(function() {\n                    subtaskDiv.style.display = 'none';\n                    subtaskTextField.style.display = 'none';\n                    addSubtaskButton.style.display = 'none';\n                    addSubtaskButtonIcon.style.display = 'none';\n                }, 500);\n            }\n        }\n    }\n\n    createTaskNode() {\n        const self = this;\n        let taskDiv = document.createElement(\"div\");\n        taskDiv.setAttribute(\"class\", \"task\");\n\n        let taskDivContent = document.createElement('div');\n        taskDivContent.setAttribute('class', 'task_div_content');\n\n        let finishButton = document.createElement('button');\n        finishButton.setAttribute('type', 'submit');\n        finishButton.setAttribute('class', 'task_finish_button');\n\n        let finishButtonIcon = document.createElement('img');\n        finishButtonIcon.setAttribute('src', '../static/icons/check.svg');\n        finishButton.appendChild(finishButtonIcon);\n\n        if (this.status === true) {\n            taskDiv.setAttribute(\"class\", \"task finished_task\");\n        }\n\n        finishButton.onclick = function () {\n            self.taskList.finishTask(self);\n        };\n\n        let showSubtaskDivButton = document.createElement('input');\n        showSubtaskDivButton.setAttribute('type', 'button');\n        showSubtaskDivButton.setAttribute('class', 'show_subtask_input_button');\n        showSubtaskDivButton.setAttribute('value', '+');\n\n        showSubtaskDivButton.onclick = this.showSubtaskInput();\n\n        let subtaskDiv = document.createElement('div');\n        subtaskDiv.setAttribute('class', 'subtask_div');\n\n        let subtaskTextField = document.createElement('input');\n        subtaskTextField.setAttribute('type', 'text');\n        subtaskTextField.setAttribute('class', 'subtask_text_field');\n\n        let addSubtaskButton = document.createElement('button');\n\n        addSubtaskButton.setAttribute('type', 'submit');\n        addSubtaskButton.setAttribute('class', 'add_subtask_button');\n\n        let addSubtaskButtonIcon = document.createElement('img');\n\n        addSubtaskButtonIcon.setAttribute('src', 'static/icons/add_sub.svg');\n        addSubtaskButton.appendChild(addSubtaskButtonIcon);\n\n        function noEnterRefreshAddSubtaskButton(event) {\n            if (event.keyCode === 13) {\n                event.preventDefault();\n                addSubtaskButton.click();\n            }\n        }\n\n        subtaskTextField.addEventListener('keydown', noEnterRefreshAddSubtaskButton, false);\n\n        addSubtaskButton.onclick = function () {\n            self.taskList.addSubtask(self, this);\n        }\n\n        subtaskDiv.appendChild(subtaskTextField);\n        subtaskDiv.appendChild(addSubtaskButton);\n\n        let par = document.createElement(\"p\");\n\n        par.appendChild(document.createTextNode(this.text));\n        par.setAttribute(\"class\", \"task_text\");\n\n        let removeButton = document.createElement('button');\n\n        removeButton.setAttribute('type', 'submit');\n        removeButton.setAttribute('class', 'task_remove_button');\n\n        let removeButtonIcon = document.createElement('img');\n\n        removeButtonIcon.setAttribute('src','static/icons/delete.svg');\n\n        removeButton.appendChild(removeButtonIcon);\n\n        removeButton.onclick = function () {\n            self.taskList.removeTask(self);\n        };\n\n        taskDiv.appendChild(finishButton);\n        taskDiv.appendChild(showSubtaskDivButton);\n        taskDiv.appendChild(subtaskDiv);\n        taskDiv.appendChild(par);\n        taskDiv.appendChild(removeButton);\n\n        return taskDiv;\n    }\n\n    replaceTaskNode(existTask) {\n        const self = this;\n        let finishButton = existTask.getElementsByClassName(\"task_finish_button\")[0];\n        let addSubtaskButton = existTask.getElementsByClassName('add_subtask_button')[0];\n        let removeButton = existTask.getElementsByClassName(\"task_remove_button\")[0];\n        existTask.getElementsByTagName(\"p\")[0].textContent = this.text;\n        if (this.status === false) {\n            existTask.setAttribute(\"class\", \"task\");\n        } else {\n            existTask.setAttribute(\"class\", \"task finished_task\");\n        }\n        finishButton.onclick = function () {\n            self.taskList.finishTask(self);\n        };\n        addSubtaskButton.onclick = function() {\n            self.taskList.addSubtask(self, this);\n        };\n        removeButton.onclick = function () {\n            self.taskList.removeTask(self);\n        };\n    }\n}\n\n\nclass Login {\n    constructor() {\n        const self = this;\n        this.taskList = undefined;\n        this.authMenu = document.getElementById(\"auth_menu\");\n        this.loginWindow = document.getElementById(\"login_window\");\n        this.loginWindowInfo = document.getElementById(\"login_window_info\");\n        this.loginFormUsername = document.getElementById(\"login_form_username\");\n        this.loginFormPassword = document.getElementById(\"login_form_password\");\n        this.loginButton = document.getElementById(\"login_form_button\");\n        this.registerWindow = document.getElementById(\"register_window\");\n        this.registerWindowInfo = document.getElementById(\"register_window_info\");\n        this.registerFormUsername = document.getElementById(\"register_form_username\");\n        this.registerFormPassword = document.getElementById(\"register_form_password\");\n        this.registerFormPasswordConfirm = document.getElementById(\"register_form_password_confirm\");\n        this.userRegisterButton = document.getElementById(\"register_form_button\");\n        this.switchRegisterButton = document.getElementById(\"register_button\");\n        this.switchLoginButton = document.getElementById(\"login_button\");\n        this.userNameField = document.getElementById(\"user_name_field\");\n        this.userLogOutButton = document.getElementById('user_logout_button');\n        this.userDeleteButton = document.getElementById(\"user_delete_button\");\n        this.shadow = document.getElementById(\"shadow\");\n\n        this.loginFormUsername.focus();\n        this.userLogOutButton.disabled = true;\n        this.userDeleteButton.disabled = true;\n\n        this.switchRegisterButton.onclick = function() {\n            self.switchLogin(this.value);\n        }\n        this.switchLoginButton.onclick = function() {\n            self.switchLogin(this.value);\n        }\n        this.loginButton.onclick = function() {\n            self.logIn();\n        }\n        this.userLogOutButton.onclick = function() {\n            self.logOut();\n        }\n        this.userDeleteButton.onclick = function() {\n            self.userDelete();\n        }\n        this.userRegisterButton.onclick = function() {\n            self.userRegister();\n        }\n    }\n\n\n    switchLogin(val) {\n        if (val === 'register') {\n            windowChange(this.registerWindow, this.switchLoginButton, this.loginWindow, this.switchRegisterButton, this.registerFormUsername, this.loginWindowInfo);\n        } else if (val === 'login') {\n            windowChange(this.loginWindow, this.switchRegisterButton, this.registerWindow, this.switchLoginButton, this.loginFormUsername, this.registerWindowInfo);\n        }\n\n        function windowChange(activate, activateButton, deactivate, deactivateButton, focusField, infoField) {\n            removeChilds(infoField);\n            deactivate.style.opacity = '0';\n            deactivateButton.disabled = true;\n            activate.style.display = 'block';\n            // focusField.focus();\n            setTimeout(function () {\n                activate.style.opacity = '1';\n            });\n            setTimeout(function () {\n                deactivate.style.display = 'none';\n                activateButton.disabled = false;\n            }, 500);\n        }\n    }\n\n\n    hideLoginWindow() {\n        this.loginFormUsername.value = \"\";\n        this.registerFormUsername.value = '';\n        this.registerFormPassword.value = '';\n        this.registerFormPasswordConfirm.value = '';\n        removeChilds(this.loginWindowInfo);\n        this.authMenu.style.opacity = '0';\n        this.shadow.style.display = \"none\";\n\n        setTimeout(() => {\n            this.authMenu.style.display = 'none';\n            document.getElementById('task_input_field').focus();\n        }, 500);\n    }\n\n\n    showLoginWindow() {\n        this.shadow.style.display = \"block\";\n        removeChilds(this.userNameField);\n        this.userLogOutButton.disabled = true;\n        this.userDeleteButton.disabled = true;\n        this.authMenu.style.display = 'block';\n        this.loginFormUsername.focus();\n        setTimeout(() => {\n            this.authMenu.style.opacity = '1';\n        });\n    }\n\n\n    onLoad() {\n        /**\n         * POST:\n         * GET:\n         * if OK = true: json = {'ok': 'boolean', 'user_id': 'number', 'tasks': [\n         *                                          {\"task_id\": \"number\", 'task_text': 'string', 'status': 'string'},\n         *                                          ...\n         *                                          ]\n         *             }\n         * if OK = false: json = {'ok': 'boolean', 'error_code': 'number' or null,\n         * 'error_message': 'string' or null}\n         */\n        const loadTasks = (answer) => {\n            if (answer['ok'] === true) {\n                let userName = answer[\"user_name\"];\n                let tasksFromServer = answer['tasks'];\n\n                if (!this.userNameField.firstChild) {\n                    this.userNameField.appendChild(document.createTextNode(userName));\n                    this.userLogOutButton.disabled = false;\n                    this.userDeleteButton.disabled = false;\n                }\n\n                this.taskList = new TaskList();\n                this.taskList.loginClass = this;\n                let taskInputButton = document.getElementById(\"task_input_button\");\n\n                taskInputButton.onclick = () => {\n                    this.taskList.addTask();\n                    return false;\n                }\n\n                let tasksTree = this.taskList.tasksTree;\n\n                for (let task of tasksFromServer) {\n                    let taskId = task[\"task_id\"];\n                    let taskText = task[\"task_text\"];\n                    let taskStatus = task[\"task_status\"];\n                    let parentId = task[\"parent_id\"];\n\n                    tasksTree.set(taskId, new Task(this.taskList, taskId, taskText, parentId, taskStatus));\n                }\n\n                for (let task of tasksTree.values()) {\n                    if (tasksTree.has(task.parentId)) {\n                        tasksTree.get(task.parentId).subtasks.push(task);\n                    } else {\n                        this.taskList.tasks.push(task);\n                    }\n                }\n\n                this.taskList.updateDom();\n\n            }\n            if (answer[\"error_code\"] === 401) {\n                this.logOut();\n                showInfoWindow(\"Authorisation problem!\");\n            }\n        }\n        knock_knock('load_tasks', loadTasks);\n    }\n\n    logIn() {\n        /**\n         * POST: json = {\"userName\": \"string\", \"password\": \"string\"}\n         * GET:\n         * if OK = true: json = {\"ok\": \"boolean\", \"user_id\": \"number\",\n         *                         \"tasks\": [{\"task_id\": \"number\", \"task_text\": \"string\", \"status\": \"boolean\"},\n         *                                  ..........] }\n         * if OK = false: json = {'ok': 'boolean', 'error_code': 'number' or null,\n         *                        'error_message': 'string' or null}\n         */\n\n        removeChilds(this.loginWindowInfo);\n\n        if (this.loginFormUsername.value && this.loginFormPassword.value) {\n            let userName = this.loginFormUsername.value;\n            let password = this.loginFormPassword.value;\n            const sendData = {\"userName\": userName, \"password\": password};\n\n            this.loginFormPassword.value = \"\";\n\n            const login = (answer) => {\n                if (answer[\"ok\"] === true) {\n                    let userName = answer[\"user_name\"];\n\n                    this.userNameField.appendChild(document.createTextNode(userName));\n                    this.userLogOutButton.disabled = false;\n                    this.userDeleteButton.disabled = false;\n\n                    this.hideLoginWindow();\n\n                    this.onLoad()\n                } else {\n                    this.loginWindowInfo.appendChild(document.createTextNode(answer[\"error_message\"]));\n                }\n            }\n            knock_knock('user_login', login, sendData);\n        } else if (!this.loginFormUsername.value) {\n            this.loginWindowInfo.appendChild(document.createTextNode('Please, enter user name!'));\n        } else if (!this.loginFormPassword.value) {\n            this.loginWindowInfo.appendChild(document.createTextNode('Please, enter password!'))\n        }\n    }\n\n    logOut() {\n        this.taskList = null;\n        document.cookie = \"id=; expires=-1\";\n        document.cookie = \"sign=; expires=-1\";\n\n        let tasksParent = document.getElementById(\"main_tasks\");\n        removeChilds(tasksParent);\n\n        this.showLoginWindow();\n\n    }\n\n    userDelete() {\n        const confirm = function() {\n            knock_knock(\"user_delete\", del);\n        }\n\n        const del = (answer) => {\n            if (answer[\"ok\"] === true) {\n                this.logOut();\n            }\n            if (answer[\"error_code\"] === 401) {\n                this.logOut();\n                showInfoWindow(\"Authorisation problem!\");\n            }\n        }\n\n        showConfirmWindow(confirm, \"Are you sure, you want to delete user?\");\n    }\n\n    userRegister() {\n    /**\n     * POST: json =  {\"newUserName\": \"string\",  \"password\": \"string\"}\n     * GET: answer = json = {'ok': 'boolean', 'error_code': 'number' or null,\n     'error_message': 'string' or null}\n     */\n        removeChilds(this.registerWindowInfo);\n\n        if (this.registerFormUsername.value && this.registerFormPassword.value && this.registerFormPasswordConfirm.value) {\n            if (this.registerFormPassword.value === this.registerFormPasswordConfirm.value) {\n                let newUserName = this.registerFormUsername.value;\n                let password = this.registerFormPassword.value;\n\n                const sendData = {\"newUserName\": newUserName, \"password\": password};\n\n                const register = (answer) => {\n                    if (answer['ok'] === true) {\n                        this.registerFormUsername.value = \"\";\n                        this.registerFormPassword.value = \"\";\n                        this.registerFormPasswordConfirm.value = \"\";\n                        this.registerWindowInfo.appendChild(document.createTextNode(\"New user \" + newUserName + \" successfully created!\"));\n                    } else if (answer['error_code'] === 1062) {\n                        this.registerWindowInfo.appendChild(document.createTextNode(\"Name \" + newUserName + \" is already used!\"));\n                    } else {\n                        this.registerWindowInfo.appendChild(document.createTextNode(answer['error_message'] + ' Код ошибки: ' + answer['error_code']));\n                    }\n                }\n                knock_knock('user_register', register, sendData);\n            } else {\n                this.registerWindowInfo.appendChild(document.createTextNode('Passwords are not match!'));\n            }\n        } else if (!this.registerFormUsername.value) {\n            this.registerWindowInfo.appendChild(document.createTextNode('Please, enter new user name!'));\n        } else if (!this.registerFormPassword.value) {\n            this.registerWindowInfo.appendChild(document.createTextNode('Please, enter Password!'));\n        } else if (!this.registerFormPasswordConfirm.value) {\n            this.registerWindowInfo.appendChild(document.createTextNode('Please, confirm Password!'));\n        }\n    }\n}\n\n\nclass LoadingWindow {\n    constructor() {\n        this.isAlive = false;\n        this.reqCount = 0;\n        this.timerShow = undefined;\n        this.timerHide = undefined;\n        this.startTime = undefined;\n        this.stopTime = undefined;\n    }\n    showWindow(loadingWindow) {\n        this.reqCount++;\n     if (this.reqCount === 1) {\n        this.timerHide = clearTimeout(this.timerHide);\n        this.timerShow = setTimeout(() => {\n            loadingWindow.style.display = \"block\";\n            this.startTime = Date.now();\n            this.isAlive = true;\n        }, 200);\n     }\n    }\n    hideWindow(loadingWindow) {\n        if (this.reqCount > 0) {\n            this.reqCount--;\n            this.stopTime = Date.now();\n        }   if (this.reqCount === 0) {\n            this.timerShow = clearTimeout(this.timerShow);\n            if (this.isAlive) {\n                if (this.stopTime - this.startTime >= 200) {\n                    loadingWindow.style.display = \"none\";\n                    this.isAlive = false;\n                } else {\n                    this.timerHide = setTimeout(() => {\n                        loadingWindow.style.display = \"none\";\n                        this.isAlive = false;\n                    }, 200 - (this.stopTime - this.startTime));\n                }\n            }\n        }\n    }\n}\n\nlet showLoading = new LoadingWindow();\n\nfunction events() {\n\n    function noEnterRefreshTaskInput(event) {\n        if (event.keyCode === 13) {\n            event.preventDefault();\n            document.getElementById(\"task_input_button\").click();\n        }\n    }\n\n    function noEnterRefreshLogin(event) {\n        if (event.keyCode === 13) {\n            event.preventDefault();\n            document.getElementById(\"login_form_button\").click();\n        }\n    }\n\n    function noEnterRefreshRegister(event) {\n        if (event.keyCode === 13) {\n            event.preventDefault();\n            document.getElementById(\"register_form_button\").click();\n        }\n    }\n\n    let loginForm = document.forms['login_form'];\n    loginForm.addEventListener(\"keydown\", noEnterRefreshLogin, false);\n\n    let registerForm = document.forms['register_form'];\n    registerForm.addEventListener(\"keydown\", noEnterRefreshRegister, false);\n\n    let taskInputField = document.getElementById(\"task_input_field\");\n    taskInputField.addEventListener(\"keydown\", noEnterRefreshTaskInput, false);\n}\n\nfunction knock_knock(path, func, sendData = undefined) {\n    let loadingWindow = document.getElementById(\"loading_window\");\n    showLoading.showWindow(loadingWindow);\n    if (window.fetch) {\n        let init = {method: 'POST',\n                    headers: {'Content-Type': 'application/json; charset=utf-8'},\n                    body: JSON.stringify(sendData)}\n\n        fetch(path, init)\n            .then((answer) => {\n                if (answer.ok && answer.headers.get('Content-Type') === 'application/json') {\n                    return answer.json();\n                } else {\n                    return Promise.reject({\"ok\": false});\n                }\n            })\n            .then((answer) => {\n                showLoading.hideWindow(loadingWindow);\n                func(answer);\n            }, (error) => {\n                showLoading.hideWindow(loadingWindow);\n                func(error);\n            });\n    } else {\n        let req = new XMLHttpRequest();\n        req.open('POST', path);\n        req.setRequestHeader('Content-type', 'application/json; charset=utf-8');\n        req.send(JSON.stringify(sendData));\n\n        req.onreadystatechange = function () {\n            if (req.readyState === 4) {\n                if (req.status === 200 && req.getResponseHeader('Content-type') === 'application/json') {\n                    showLoading.hideWindow(loadingWindow);\n                    func(JSON.parse(req.responseText));\n                }\n            }\n        }\n    }\n}\n\nfunction showConfirmWindow(func, message) {\n    let shadow = document.getElementById(\"shadow\");\n    let confirmWindow = document.getElementById(\"confirm_window\");\n    let confirmWindowMessage = document.getElementById(\"confirm_window_message\");\n    let okButton = document.getElementById(\"confirm_window_ok_button\");\n    let cancelButton = document.getElementById(\"confirm_window_cancel_button\");\n\n    shadow.style.display = \"block\";\n    confirmWindowMessage.appendChild(document.createTextNode(message));\n    confirmWindow.style.display = \"block\";\n\n    setTimeout(function() {\n        shadow.style.opacity = \"0.5\";\n    })\n\n    okButton.onclick = click;\n    cancelButton.onclick = click;\n\n    function click() {\n        if (this.value === \"OK\") {\n            func();\n        }\n        shadow.style.display = \"none\";\n        confirmWindow.style.display = \"none\";\n        confirmWindowMessage.removeChild(confirmWindowMessage.firstChild);\n    }\n}\n\nfunction showInfoWindow(message) {\n\n    let infoWindow = document.getElementById(\"info_window\");\n    let infoWindowMessage = document.getElementById(\"info_window_message\");\n\n    removeChilds(infoWindowMessage);\n\n    infoWindowMessage.appendChild(document.createTextNode(message));\n    infoWindow.style.display = \"block\";\n\n    setTimeout(function() {\n        infoWindow.style.display = \"none\";\n    }, 3000)\n}\n\nfunction removeChilds(field) {\n    while (field.firstChild) {\n        field.removeChild(field.firstChild);\n    }\n}\n\nfunction showCookiesAlertWindow() {\n    let userLanguage = window.navigator.language;\n    let cookiesAlertWindow = document.getElementById('cookies_alert_window');\n    let cookiesAlertWindowText = document.getElementById('cookies_alert_window_text');\n    let cookiesAlertWindowConfirmButton = document.getElementById('cookies_alert_confirm_button');\n\n    if (userLanguage === 'en-US' || userLanguage === 'en') {\n        cookiesAlertWindowText.appendChild(document.createTextNode(\n            'By continuing to use our site, you consent to the processing of' +\n            ' cookies, which ensure the correct operation of the site.'));\n    } else if (userLanguage === 'ru-RU' || userLanguage === 'ru') {\n        cookiesAlertWindowText.appendChild(document.createTextNode(\n            'Продолжая использовать наш сайт, вы даете согласие на обработку' +\n            '  файлов cookie, которые обеспечивают правильную работу сайта.'));\n    }\n\n    cookiesAlertWindowConfirmButton.onclick = function() {\n        cookiesAlertWindow.style.opacity = '0';\n\n        setTimeout(function() {\n            cookiesAlertWindow.style.display = 'none';\n        }, 500);\n    }\n    cookiesAlertWindow.style.display = 'block';\n}\n\nfunction authCheck(mainLogin) {\n    const check = (answer) => {\n        if (answer[\"ok\"] === true) {\n            mainLogin.hideLoginWindow();\n            mainLogin.onLoad();\n        } else {\n            showCookiesAlertWindow();\n        }\n    }\n    knock_knock(\"/auth_check\", check);\n}\n\ndocument.addEventListener('DOMContentLoaded', function() {\n    let mainLogin = new Login();\n    authCheck(mainLogin);\n    events();\n});"]}